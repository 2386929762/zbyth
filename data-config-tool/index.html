<!doctype html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>数据表管理工具</title>
  <!-- 加载 PanelX SDK (preload.js 会自动加载 SDK) -->
  <script src="/preload.js" devSdkUrl="http://183.6.70.7:24689/wp-core/api/getPanelXSdk"></script>
</head>

<body>
  <div id="root"></div>

  <script>
    // SDK 配置
    window.SDK_CONFIG = {
      devDefaultBaseUrl: 'https://demo.kwaidoo.com/zbyth/process/',
      busDomainCode: 'OctoCM_BDYTH',
      // 数据源管理 panelCode
      dataSourcePanelCode: 'OctoCM_BDYTH_IML_00005',
      // 表管理 panelCode
      tablePanelCode: 'OctoCM_BDYTH_IML_00003'
    };
    window.panelxSdk = new PanelXSdk({
      devDefaultBaseUrl: window.SDK_CONFIG.devDefaultBaseUrl,
      busDomainCode: window.SDK_CONFIG.busDomainCode
    });
    console.log('[SDK] PanelX SDK 初始化成功');

    // 触发自定义事件通知 React 应用
    window.dispatchEvent(new CustomEvent('sdkReady'));
  </script>

  <script type="module" src="/src/main.jsx"></script>
</body>

</html>